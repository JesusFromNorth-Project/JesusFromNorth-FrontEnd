<!DOCTYPE html>
<html lang="es">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Paciente</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" />
  <link rel="stylesheet" href="https://code.ionicframework.com/ionicons/2.0.1/css/ionicons.min.css" />
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" />
  <link rel="stylesheet" href="/css/Dashboard.css" />
  <link rel="stylesheet" href="/css/Doctor.css" />
</head>

<body>
  <!-- Sidebar dinámico -->
  <div id="sidebar-placeholder"></div>
  <!-- Contenido principal -->
  <div class="container-fluid contenido-principal">
    <h1 class="mb-4 text-primary"><i class="fa fa-user"></i> Doctor</h1>
    <div class="w-100">
      <div class="card mb-4 shadow-lg border-0" style="background: #f8fbff;">
        <div class="card-header bg-gradient bg-primary text-white fw-bold rounded-top">
          <i class="fa fa-address-card"></i> Datos del Doctor
        </div>
        <div class="card-body">
          <!-- ...dentro de tu <div class="card-body">... -->
          <form id="formDoctor">
            <div class="form-row mb-3">
              <div class="form-group col-12 col-md-3 mb-2">
                <label class="fw-semibold">Nombre</label>
                <div class="input-group">
                  <span class="input-group-text bg-light"><i class="fa fa-user"></i></span>
                  <input type="text" class="form-control" placeholder="Nombre" name="nombre" required />
                </div>
              </div>
              <div class="form-group col-12 col-md-3 mb-2">
                <label class="fw-semibold">Apellidos</label>
                <div class="input-group">
                  <span class="input-group-text bg-light"><i class="fa fa-user"></i></span>
                  <input type="text" class="form-control" placeholder="Apellidos" name="apellidos" required />
                </div>
              </div>
              <div class="form-group col-12 col-md-2 mb-2">
                <label class="fw-semibold">CMP</label>
                <div class="input-group">
                  <span class="input-group-text bg-light"><i class="fa fa-id-card"></i></span>
                  <input type="text" class="form-control" placeholder="CMP" name="CMP" required />
                </div>
              </div>
              <div class="form-group col-12 col-md-2 mb-2">
                <label class="fw-semibold">DNI</label>
                <div class="input-group">
                  <span class="input-group-text bg-light"><i class="fa fa-id-card"></i></span>
                  <input type="text" class="form-control" placeholder="DNI" name="dni" required />
                </div>
              </div>
              <div class="form-group col-12 col-md-2 mb-2">
                <label class="fw-semibold">Fecha de nacimiento</label>
                <div class="input-group">
                  <span class="input-group-text bg-light"><i class="fa fa-birthday-cake"></i></span>
                  <input type="date" class="form-control" name="birthday" required />
                </div>
              </div>
            </div>
            <div class="form-row mb-3">
              <div class="form-group col-12 col-md-3 mb-2">
                <label class="fw-semibold">Edad</label>
                <div class="input-group">
                  <span class="input-group-text bg-light"><i class="fa fa-hourglass-half"></i></span>
                  <input type="number" class="form-control" placeholder="Edad" name="edad" min="0" required />
                </div>
              </div>
              <div class="form-group col-12 col-md-3 mb-2">
                <label class="fw-semibold">Dirección</label>
                <div class="input-group">
                  <span class="input-group-text bg-light"><i class="fa fa-home"></i></span>
                  <input type="text" class="form-control" placeholder="Dirección" name="direccion" required />
                </div>
              </div>
              <div class="form-group col-12 col-md-3 mb-2">
                <label class="fw-semibold">Teléfono</label>
                <div class="input-group">
                  <span class="input-group-text bg-light"><i class="fa fa-phone"></i></span>
                  <input type="tel" class="form-control" placeholder="Teléfono" name="telefono" required />
                </div>
              </div>
              <div class="form-group col-12 col-md-3 mb-2">
                <label class="fw-semibold">Celular</label>
                <div class="input-group">
                  <span class="input-group-text bg-light"><i class="fa fa-mobile-alt"></i></span>
                  <input type="tel" class="form-control" placeholder="Celular" name="celular" required />
                </div>
              </div>
            </div>
            <div class="form-row mb-3">
              <div class="form-group col-12 col-md-3 mb-2">
                <label class="fw-semibold">Username</label>
                <div class="input-group">
                  <span class="input-group-text bg-light"><i class="fa fa-user"></i></span>
                  <input type="text" class="form-control" placeholder="Username" name="Username" required />
                </div>
              </div>
              <div class="form-group col-12 col-md-3 mb-2">
                <label class="fw-semibold">Password</label>
                <div class="input-group">
                  <span class="input-group-text bg-light"><i class="fa fa-key"></i></span>
                  <input type="password" class="form-control" placeholder="Password" name="Password" required />
                </div>
              </div>
              <div class="form-group col-12 col-md-3 mb-2">
                <label class="fw-semibold">Especialidad</label>
                <div class="input-group">
                  <span class="input-group-text bg-light"><i class="fa fa-stethoscope"></i></span>
                  <select class="form-control" name="especialidad" id="selectEspecialidad" required>
                    <option value="">Seleccione especialidad</option>
                    <!-- Opciones dinámicas -->
                  </select>
                </div>
              </div>
            </div>
            <div class="form-row">
              <div class="col-12">
                <button type="submit" class="btn btn-primary px-4 shadow-sm">Guardar</button>
              </div>
            </div>
          </form>
        </div>
      </div>
      <!-- Buscador y tabla -->
      <div class="mb-3 d-flex align-items-center">
        <h4 class="mb-0 mr-3 text-primary"><i class="fa fa-search"></i> Doctor</h4>
        <input type="text" class="form-control form-control-sm mr-2 border-primary" style="width: 120px"
          placeholder="DNI" id="searchID" />
        <button class="btn btn-outline-primary btn-sm mr-3">Buscar</button>
        <input type="text" class="form-control form-control-sm mr-2 border-primary" style="width: 140px"
          placeholder="CMP" id="searchNombre" />
        <button class="btn btn-outline-primary btn-sm">Buscar</button>
      </div>
      <table class="table table-bordered table-striped w-100 shadow-sm rounded">
        <thead class="table-primary">
          <tr>
            <th>ID</th>
            <th>Nombre</th>
            <th>Apellidos</th>
            <th>CMP</th>
            <th>DNI</th>
            <th>Fecha Nacimiento</th>
            <th>Edad</th>
            <th>Dirección</th>
            <th>Teléfono</th>
            <th>Celular</th>
            <th>Username</th>
            <th>Especialidad</th>
          </tr>
        </thead>
        <tbody id="tablaDoctores">
          <tr>
            <td colspan="12" class="text-center">
              No hay doctores registrados.
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>

  <script> // Cargar el sidebar dinámicamente y resaltar el enlace activo
    document.addEventListener("DOMContentLoaded", () => {

      let role = localStorage.getItem("role");
      let sideBar = null;
      if (role == "ADMIN") {
        sideBar = "../components/SidebarAdmin.html";
      } else {
        sideBar = "../components/SidebarDoctor.html";
      }

      fetch(sideBar)
        .then((res) => res.text())
        .then((html) => {
          document.getElementById("sidebar-placeholder").innerHTML = html;
          const path = window.location.pathname.split("/").pop().toLowerCase();
          const links = document.querySelectorAll("#sidebar-placeholder a.nav-link");
          links.forEach((link) => {
            if (link.getAttribute("href").toLowerCase().includes(path)) {
              link.classList.remove("text-dark");
              link.classList.add("text-primary");
            }
          });
        })
        .catch((err) => console.error("Error al cargar sidebar:", err));
    });
  </script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>

</html>